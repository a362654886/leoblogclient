{"ast":null,"code":"import _slicedToArray from\"D:/Github/Leo_log_project/leoblogclient/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{ADD_POST,QUERY_POST,QUERY_POSTS,UPDATE_POST}from\"../graphql/post\";import{useMutation,useQuery}from\"@apollo/client\";import{ADD_POST_TYPE,QUERY_POST_TYPES}from\"../graphql/postType\";export var useQueryBlogs=function useQueryBlogs(pageSize,page,typeId){var _useQuery=useQuery(QUERY_POSTS,{variables:{pageNumber:pageSize,page:page,typeId:typeId==\"null\"?\"\":typeId}}),loading=_useQuery.loading,data=_useQuery.data;var _data=data===null||data===void 0?void 0:data.posts.data;return{loading:loading,_data:_data,total:data===null||data===void 0?void 0:data.posts.total};};export var useQueryBlog=function useQueryBlog(id){var _useQuery2=useQuery(QUERY_POST,{variables:{id:id}}),loading=_useQuery2.loading,error=_useQuery2.error,data=_useQuery2.data;var _data=data===null||data===void 0?void 0:data.post.data;var relatedPosts=data===null||data===void 0?void 0:data.post.relatedPosts;return{loading:loading,error:error,_data:_data,relatedPosts:relatedPosts};};export var useQueryPostTypes=function useQueryPostTypes(){var _useQuery3=useQuery(QUERY_POST_TYPES),loading=_useQuery3.loading,data=_useQuery3.data;var _data=data===null||data===void 0?void 0:data.postTypes.data;return{loading:loading,_data:_data};};export var useAddPost=function useAddPost(){var _useMutation=useMutation(ADD_POST),_useMutation2=_slicedToArray(_useMutation,2),addPostFunction=_useMutation2[0],_useMutation2$=_useMutation2[1],data=_useMutation2$.data,loading=_useMutation2$.loading,error=_useMutation2$.error;var _data=data===null||data===void 0?void 0:data.addPost.data;return{addPostFunction:addPostFunction,loading:loading,error:error,_data:_data};};export var useUpdatePost=function useUpdatePost(){var _useMutation3=useMutation(UPDATE_POST),_useMutation4=_slicedToArray(_useMutation3,2),updatePostFunction=_useMutation4[0],_useMutation4$=_useMutation4[1],data=_useMutation4$.data,loading=_useMutation4$.loading,error=_useMutation4$.error;var _data=data===null||data===void 0?void 0:data.addPost.data;return{updatePostFunction:updatePostFunction,loading:loading,error:error,_data:_data};};export var useAddPostType=function useAddPostType(){var _useMutation5=useMutation(ADD_POST_TYPE),_useMutation6=_slicedToArray(_useMutation5,2),addPostTypeFunction=_useMutation6[0],_useMutation6$=_useMutation6[1],data=_useMutation6$.data,loading=_useMutation6$.loading,error=_useMutation6$.error;var _data=data===null||data===void 0?void 0:data.addPostType.data;return{addPostTypeFunction:addPostTypeFunction,loading:loading,error:error,_data:_data};};","map":{"version":3,"names":["ADD_POST","QUERY_POST","QUERY_POSTS","UPDATE_POST","useMutation","useQuery","ADD_POST_TYPE","QUERY_POST_TYPES","useQueryBlogs","pageSize","page","typeId","_useQuery","variables","pageNumber","loading","data","_data","posts","total","useQueryBlog","id","_useQuery2","error","post","relatedPosts","useQueryPostTypes","_useQuery3","postTypes","useAddPost","_useMutation","_useMutation2","_slicedToArray","addPostFunction","_useMutation2$","addPost","useUpdatePost","_useMutation3","_useMutation4","updatePostFunction","_useMutation4$","useAddPostType","_useMutation5","_useMutation6","addPostTypeFunction","_useMutation6$","addPostType"],"sources":["D:/Github/Leo_log_project/leoblogclient/src/hooks/usePost.ts"],"sourcesContent":["import {\r\n  ADD_POST,\r\n  QUERY_POST,\r\n  QUERY_POSTS,\r\n  UPDATE_POST,\r\n} from \"../graphql/post\";\r\nimport { ApolloError, useMutation, useQuery } from \"@apollo/client\";\r\nimport { ADD_POST_TYPE, QUERY_POST_TYPES } from \"../graphql/postType\";\r\nimport { Post, RelatedPost } from \"../types/postType\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nexport const useQueryBlogs = (\r\n  pageSize: number,\r\n  page: number,\r\n  typeId: string\r\n) => {\r\n  const { loading, data } = useQuery(QUERY_POSTS, {\r\n    variables: {\r\n      pageNumber: pageSize,\r\n      page: page,\r\n      typeId: typeId == \"null\" ? \"\" : typeId,\r\n    },\r\n  });\r\n  const _data = data?.posts.data;\r\n\r\n  return { loading, _data, total: data?.posts.total };\r\n};\r\n\r\nexport const useQueryBlog = (\r\n  id: string\r\n): {\r\n  loading: boolean;\r\n  error: ApolloError | undefined;\r\n  _data: Post;\r\n  relatedPosts: RelatedPost[];\r\n} => {\r\n  const { loading, error, data } = useQuery(QUERY_POST, {\r\n    variables: { id: id },\r\n  });\r\n  const _data = data?.post.data;\r\n  const relatedPosts = data?.post.relatedPosts;\r\n  return { loading, error, _data, relatedPosts };\r\n};\r\n\r\nexport const useQueryPostTypes = () => {\r\n  const { loading, data } = useQuery(QUERY_POST_TYPES);\r\n  const _data = data?.postTypes.data;\r\n  return { loading, _data };\r\n};\r\n\r\nexport const useAddPost = () => {\r\n  const [addPostFunction, { data, loading, error }] = useMutation(ADD_POST);\r\n  const _data = data?.addPost.data;\r\n  return { addPostFunction, loading, error, _data };\r\n};\r\n\r\nexport const useUpdatePost = () => {\r\n  const [updatePostFunction, { data, loading, error }] =\r\n    useMutation(UPDATE_POST);\r\n  const _data = data?.addPost.data;\r\n  return { updatePostFunction, loading, error, _data };\r\n};\r\n\r\nexport const useAddPostType = () => {\r\n  const [addPostTypeFunction, { data, loading, error }] =\r\n    useMutation(ADD_POST_TYPE);\r\n  const _data = data?.addPostType.data;\r\n  return { addPostTypeFunction, loading, error, _data };\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}