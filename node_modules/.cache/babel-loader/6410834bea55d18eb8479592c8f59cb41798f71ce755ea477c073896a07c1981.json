{"ast":null,"code":"import _slicedToArray from\"D:/Github/Leo_log_project/leoblogclient/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Button,Pagination}from\"@mui/material\";import{useState}from\"react\";import{useNavigate,useParams}from\"react-router-dom\";import{useQueryBlogs}from\"../../../../hooks/usePost\";import HomePage from\"../../HomePage\";import SideBarComponent from\"../sideBar/SideBarComponent\";import{StyledBlogAnimation,StyledBlogAnimationText,StyledBlogBlock,StyledBlogContainer,StyledBlogMain,StyledSideBar}from\"./style\";import Loading from\"../loading/Loading\";import{EDIT_STATE}from\"../../../../common/const\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SubBlogsComponent=function SubBlogsComponent(){var PAGE_SIZE=10;var params=useParams();var _useState=useState(1),_useState2=_slicedToArray(_useState,2),page=_useState2[0],setPage=_useState2[1];var _useQueryBlogs=useQueryBlogs(PAGE_SIZE,page,params!==null&&params!==void 0&&params.typeId?params===null||params===void 0?void 0:params.typeId:\"\"),loading=_useQueryBlogs.loading,_data=_useQueryBlogs._data,total=_useQueryBlogs.total;var history=useNavigate();var ToSingle=function ToSingle(blogId){return history(\"/leoblogclient/blog/\".concat(blogId));};var ToBlogAddPage=function ToBlogAddPage(){return history(\"/leoblogclient/addBlog\");};var handleChange=function handleChange(event,value){setPage(value);};var getContext=function getContext(){return loading?/*#__PURE__*/_jsx(Loading,{}):/*#__PURE__*/_jsxs(StyledBlogContainer,{children:[/*#__PURE__*/_jsxs(StyledBlogMain,{children:[EDIT_STATE?/*#__PURE__*/_jsx(Button,{variant:\"outlined\",onClick:function onClick(){return ToBlogAddPage();},children:\"Add New Blog\"}):/*#__PURE__*/_jsx(_Fragment,{}),_data&&_data.map(function(data,index){return/*#__PURE__*/_jsx(StyledBlogBlock,{children:/*#__PURE__*/_jsxs(StyledBlogAnimation,{children:[/*#__PURE__*/_jsx(StyledBlogAnimationText,{onClick:function onClick(){return ToSingle(data.id);},title:data.title,children:data.title}),/*#__PURE__*/_jsx(\"span\",{children:new Date(Number(data.createAt)).toDateString()})]})},index);}),/*#__PURE__*/_jsx(Pagination,{count:Math.ceil(total/PAGE_SIZE),page:page,onChange:handleChange})]}),/*#__PURE__*/_jsx(StyledSideBar,{children:/*#__PURE__*/_jsx(SideBarComponent,{})})]});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(HomePage,{state:1,context:getContext()})});};export default SubBlogsComponent;","map":{"version":3,"names":["Button","Pagination","useState","useNavigate","useParams","useQueryBlogs","HomePage","SideBarComponent","StyledBlogAnimation","StyledBlogAnimationText","StyledBlogBlock","StyledBlogContainer","StyledBlogMain","StyledSideBar","Loading","EDIT_STATE","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","SubBlogsComponent","PAGE_SIZE","params","_useState","_useState2","_slicedToArray","page","setPage","_useQueryBlogs","typeId","loading","_data","total","history","ToSingle","blogId","concat","ToBlogAddPage","handleChange","event","value","getContext","children","variant","onClick","map","data","index","id","title","Date","Number","createAt","toDateString","count","Math","ceil","onChange","state","context"],"sources":["D:/Github/Leo_log_project/leoblogclient/src/pages/HomePage/components/subBlogs/SubBlogsPageComponent.tsx"],"sourcesContent":["import { Box, Button, Pagination } from \"@mui/material\";\r\nimport { FC, useEffect, useState } from \"react\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport { useQueryBlogs } from \"../../../../hooks/usePost\";\r\nimport { Post } from \"../../../../types/postType\";\r\nimport HomePage from \"../../HomePage\";\r\nimport SideBarComponent from \"../sideBar/SideBarComponent\";\r\nimport {\r\n  StyledBlogAnimation,\r\n  StyledBlogAnimationText,\r\n  StyledBlogBlock,\r\n  StyledBlogContainer,\r\n  StyledBlogMain,\r\n  StyledSideBar,\r\n} from \"./style\";\r\nimport Loading from \"../loading/Loading\";\r\nimport { EDIT_STATE } from \"../../../../common/const\";\r\n\r\nconst SubBlogsComponent: FC = () => {\r\n  const PAGE_SIZE = 10;\r\n\r\n  const params = useParams();\r\n\r\n  const [page, setPage] = useState(1);\r\n\r\n  const { loading, _data, total } = useQueryBlogs(\r\n    PAGE_SIZE,\r\n    page,\r\n    params?.typeId ? params?.typeId : \"\"\r\n  );\r\n\r\n  const history = useNavigate();\r\n\r\n  const ToSingle = (blogId: string) => history(`/leoblogclient/blog/${blogId}`);\r\n\r\n  const ToBlogAddPage = () => history(`/leoblogclient/addBlog`);\r\n\r\n  const handleChange = (event: React.ChangeEvent<unknown>, value: number) => {\r\n    setPage(value);\r\n  };\r\n\r\n  const getContext = () => {\r\n    return loading ? (\r\n      <Loading />\r\n    ) : (\r\n      <StyledBlogContainer>\r\n        <StyledBlogMain>\r\n          {EDIT_STATE ? (\r\n            <Button variant=\"outlined\" onClick={() => ToBlogAddPage()}>\r\n              Add New Blog\r\n            </Button>\r\n          ) : (\r\n            <></>\r\n          )}\r\n          {_data &&\r\n            _data.map((data: Post, index: number) => (\r\n              <StyledBlogBlock key={index}>\r\n                <StyledBlogAnimation>\r\n                  <StyledBlogAnimationText\r\n                    onClick={() => ToSingle(data.id)}\r\n                    title={data.title}\r\n                  >\r\n                    {data.title}\r\n                  </StyledBlogAnimationText>\r\n                  <span>{new Date(Number(data.createAt)).toDateString()}</span>\r\n                </StyledBlogAnimation>\r\n              </StyledBlogBlock>\r\n            ))}\r\n          <Pagination\r\n            count={Math.ceil(total / PAGE_SIZE)}\r\n            page={page}\r\n            onChange={handleChange}\r\n          />\r\n        </StyledBlogMain>\r\n        <StyledSideBar>\r\n          <SideBarComponent />\r\n        </StyledSideBar>\r\n      </StyledBlogContainer>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <HomePage state={1} context={getContext()} />\r\n    </>\r\n  );\r\n};\r\nexport default SubBlogsComponent;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}