{"ast":null,"code":"import _slicedToArray from\"D:/Github/Leo_log_project/leoblogclient/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import{useNavigate,useParams}from\"react-router-dom\";import{useQueryBlog}from\"../../hooks/usePost\";import{StyledBlogBody,StyledBlogContextBody,StyledBlogContextHeader,StyledBlogRelateBlogsBody,StyledBlogTypesDiv}from\"./style\";import{StyledHeader}from\"../HomePage/style\";import{BottomNavigation,BottomNavigationAction,Button}from\"@mui/material\";import logo from\"../../img/logo.jpg\";import Loading from\"../HomePage/components/loading/Loading\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var BlogPage=function BlogPage(){var subPages=[\"\",\"blogs\",\"aboutMe\"];var history=useNavigate();var _useState=useState(0),_useState2=_slicedToArray(_useState,1),value=_useState2[0];var params=useParams();var _useQueryBlog=useQueryBlog(params!==null&&params!==void 0&&params.id?params===null||params===void 0?void 0:params.id:\"\"),loading=_useQueryBlog.loading,error=_useQueryBlog.error,_data=_useQueryBlog._data,relatedPosts=_useQueryBlog.relatedPosts;var toBlogTypePage=function toBlogTypePage(id){return history(\"/leoblogclient/blogs/\".concat(id));};var getContext=function getContext(){var _data$types;return loading?/*#__PURE__*/_jsx(Loading,{}):error?/*#__PURE__*/_jsx(_Fragment,{children:\"error\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(StyledBlogContextHeader,{children:[/*#__PURE__*/_jsx(\"h1\",{children:_data.title}),/*#__PURE__*/_jsx(\"span\",{children:new Date(Number(_data.createAt)).toDateString()})]}),/*#__PURE__*/_jsxs(StyledBlogTypesDiv,{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Types:\"}),(_data$types=_data.types)===null||_data$types===void 0?void 0:_data$types.map(function(item){return/*#__PURE__*/_jsx(\"span\",{onClick:function onClick(){return toBlogTypePage(item.id);},children:item.type});})]}),/*#__PURE__*/_jsx(StyledBlogContextBody,{dangerouslySetInnerHTML:{__html:_data.context?_data.context:\"\"}}),/*#__PURE__*/_jsxs(StyledBlogRelateBlogsBody,{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Related Blogs\"}),relatedPosts.map(function(relatedPost){return/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"a\",{onClick:function onClick(){return history(\"/leoblogclient/blog/\".concat(relatedPost.id));},children:relatedPost.title})});})]}),/*#__PURE__*/_jsx(_Fragment,{})]});};return/*#__PURE__*/_jsxs(StyledBlogBody,{children:[/*#__PURE__*/_jsxs(StyledHeader,{children:[/*#__PURE__*/_jsx(\"img\",{src:logo}),/*#__PURE__*/_jsxs(BottomNavigation,{showLabels:true,value:value,onChange:function onChange(event,newValue){return history(\"/leoblogclient/\".concat(subPages[newValue]));},children:[/*#__PURE__*/_jsx(BottomNavigationAction,{label:\"Home\"}),/*#__PURE__*/_jsx(BottomNavigationAction,{label:\"Blogs\"}),/*#__PURE__*/_jsx(BottomNavigationAction,{label:\"About me\"})]})]}),getContext(),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",onClick:function onClick(){return history(\"/leoblogclient/updateBlog/\".concat(params!==null&&params!==void 0&&params.id?params===null||params===void 0?void 0:params.id:\"\"));},children:\"Update\"})]});};export default BlogPage;","map":{"version":3,"names":["useState","useNavigate","useParams","useQueryBlog","StyledBlogBody","StyledBlogContextBody","StyledBlogContextHeader","StyledBlogRelateBlogsBody","StyledBlogTypesDiv","StyledHeader","BottomNavigation","BottomNavigationAction","Button","logo","Loading","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","BlogPage","subPages","history","_useState","_useState2","_slicedToArray","value","params","_useQueryBlog","id","loading","error","_data","relatedPosts","toBlogTypePage","concat","getContext","_data$types","children","title","Date","Number","createAt","toDateString","types","map","item","onClick","type","dangerouslySetInnerHTML","__html","context","relatedPost","src","showLabels","onChange","event","newValue","label","variant"],"sources":["D:/Github/Leo_log_project/leoblogclient/src/pages/BlogPage/BlogPage.tsx"],"sourcesContent":["import { FC, useEffect, useState } from \"react\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport { useQueryBlog } from \"../../hooks/usePost\";\r\nimport {\r\n  StyledBlogBody,\r\n  StyledBlogContextBody,\r\n  StyledBlogContextHeader,\r\n  StyledBlogRelateBlogsBody,\r\n  StyledBlogTypesDiv,\r\n  StyledTitle,\r\n} from \"./style\";\r\nimport { StyledHeader } from \"../HomePage/style\";\r\nimport {\r\n  BottomNavigation,\r\n  BottomNavigationAction,\r\n  Button,\r\n} from \"@mui/material\";\r\nimport logo from \"../../img/logo.jpg\";\r\nimport Loading from \"../HomePage/components/loading/Loading\";\r\n\r\nconst BlogPage: FC = () => {\r\n  const subPages = [\"\", \"blogs\", \"aboutMe\"];\r\n\r\n  const history = useNavigate();\r\n\r\n  const [value] = useState(0);\r\n\r\n  const params = useParams();\r\n\r\n  const { loading, error, _data, relatedPosts } = useQueryBlog(\r\n    params?.id ? params?.id : \"\"\r\n  );\r\n\r\n  const toBlogTypePage = (id: string) => history(`/leoblogclient/blogs/${id}`);\r\n\r\n  const getContext = () => {\r\n    return loading ? (\r\n      <Loading />\r\n    ) : error ? (\r\n      <>error</>\r\n    ) : (\r\n      <>\r\n        <StyledBlogContextHeader>\r\n          <h1>{_data.title}</h1>\r\n          <span>{new Date(Number(_data.createAt)).toDateString()}</span>\r\n        </StyledBlogContextHeader>\r\n        <StyledBlogTypesDiv>\r\n          <p>Types:</p>\r\n          {_data.types?.map((item) => {\r\n            return (\r\n              <span onClick={() => toBlogTypePage(item.id)}>{item.type}</span>\r\n            );\r\n          })}\r\n        </StyledBlogTypesDiv>\r\n        <StyledBlogContextBody\r\n          dangerouslySetInnerHTML={{\r\n            __html: _data.context ? _data.context : \"\",\r\n          }}\r\n        ></StyledBlogContextBody>\r\n        <StyledBlogRelateBlogsBody>\r\n          <h4>Related Blogs</h4>\r\n          {relatedPosts.map((relatedPost) => (\r\n            <p>\r\n              <a onClick={() => history(`/leoblogclient/blog/${relatedPost.id}`)}>\r\n                {relatedPost.title}\r\n              </a>\r\n            </p>\r\n          ))}\r\n        </StyledBlogRelateBlogsBody>\r\n        <></>\r\n      </>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <StyledBlogBody>\r\n      <StyledHeader>\r\n        <img src={logo} />\r\n        <BottomNavigation\r\n          showLabels\r\n          value={value}\r\n          onChange={(event, newValue) => history(`/leoblogclient/${subPages[newValue]}`)}\r\n        >\r\n          <BottomNavigationAction label=\"Home\" />\r\n          <BottomNavigationAction label=\"Blogs\" />\r\n          <BottomNavigationAction label=\"About me\" />\r\n        </BottomNavigation>\r\n      </StyledHeader>\r\n      {getContext()}\r\n      <Button\r\n        variant=\"outlined\"\r\n        onClick={() => history(`/leoblogclient/updateBlog/${params?.id ? params?.id : \"\"}`)}\r\n      >\r\n        Update\r\n      </Button>\r\n    </StyledBlogBody>\r\n  );\r\n};\r\nexport default BlogPage;\r\n"],"mappings":"6HAAA,OAAwBA,QAAQ,KAAQ,OAAO,CAC/C,OAASC,WAAW,CAAEC,SAAS,KAAQ,kBAAkB,CACzD,OAASC,YAAY,KAAQ,qBAAqB,CAClD,OACEC,cAAc,CACdC,qBAAqB,CACrBC,uBAAuB,CACvBC,yBAAyB,CACzBC,kBAAkB,KAEb,SAAS,CAChB,OAASC,YAAY,KAAQ,mBAAmB,CAChD,OACEC,gBAAgB,CAChBC,sBAAsB,CACtBC,MAAM,KACD,eAAe,CACtB,MAAO,CAAAC,IAAI,KAAM,oBAAoB,CACrC,MAAO,CAAAC,OAAO,KAAM,wCAAwC,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE7D,GAAM,CAAAC,QAAY,CAAG,QAAf,CAAAA,QAAYA,CAAA,CAAS,CACzB,GAAM,CAAAC,QAAQ,CAAG,CAAC,EAAE,CAAE,OAAO,CAAE,SAAS,CAAC,CAEzC,GAAM,CAAAC,OAAO,CAAGtB,WAAW,EAAE,CAE7B,IAAAuB,SAAA,CAAgBxB,QAAQ,CAAC,CAAC,CAAC,CAAAyB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAApBG,KAAK,CAAAF,UAAA,IAEZ,GAAM,CAAAG,MAAM,CAAG1B,SAAS,EAAE,CAE1B,IAAA2B,aAAA,CAAgD1B,YAAY,CAC1DyB,MAAM,SAANA,MAAM,WAANA,MAAM,CAAEE,EAAE,CAAGF,MAAM,SAANA,MAAM,iBAANA,MAAM,CAAEE,EAAE,CAAG,EAAE,CAC7B,CAFOC,OAAO,CAAAF,aAAA,CAAPE,OAAO,CAAEC,KAAK,CAAAH,aAAA,CAALG,KAAK,CAAEC,KAAK,CAAAJ,aAAA,CAALI,KAAK,CAAEC,YAAY,CAAAL,aAAA,CAAZK,YAAY,CAI3C,GAAM,CAAAC,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAIL,EAAU,QAAK,CAAAP,OAAO,yBAAAa,MAAA,CAAyBN,EAAE,EAAG,GAE5E,GAAM,CAAAO,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAA,CAAS,KAAAC,WAAA,CACvB,MAAO,CAAAP,OAAO,cACZf,IAAA,CAACF,OAAO,IAAG,CACTkB,KAAK,cACPhB,IAAA,CAAAE,SAAA,EAAAqB,QAAA,CAAE,OAAK,EAAG,cAEVnB,KAAA,CAAAF,SAAA,EAAAqB,QAAA,eACEnB,KAAA,CAACd,uBAAuB,EAAAiC,QAAA,eACtBvB,IAAA,OAAAuB,QAAA,CAAKN,KAAK,CAACO,KAAK,EAAM,cACtBxB,IAAA,SAAAuB,QAAA,CAAO,GAAI,CAAAE,IAAI,CAACC,MAAM,CAACT,KAAK,CAACU,QAAQ,CAAC,CAAC,CAACC,YAAY,EAAE,EAAQ,GACtC,cAC1BxB,KAAA,CAACZ,kBAAkB,EAAA+B,QAAA,eACjBvB,IAAA,MAAAuB,QAAA,CAAG,QAAM,EAAI,EAAAD,WAAA,CACZL,KAAK,CAACY,KAAK,UAAAP,WAAA,iBAAXA,WAAA,CAAaQ,GAAG,CAAC,SAACC,IAAI,CAAK,CAC1B,mBACE/B,IAAA,SAAMgC,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAb,cAAc,CAACY,IAAI,CAACjB,EAAE,CAAC,EAAC,CAAAS,QAAA,CAAEQ,IAAI,CAACE,IAAI,EAAQ,CAEpE,CAAC,CAAC,GACiB,cACrBjC,IAAA,CAACX,qBAAqB,EACpB6C,uBAAuB,CAAE,CACvBC,MAAM,CAAElB,KAAK,CAACmB,OAAO,CAAGnB,KAAK,CAACmB,OAAO,CAAG,EAC1C,CAAE,EACqB,cACzBhC,KAAA,CAACb,yBAAyB,EAAAgC,QAAA,eACxBvB,IAAA,OAAAuB,QAAA,CAAI,eAAa,EAAK,CACrBL,YAAY,CAACY,GAAG,CAAC,SAACO,WAAW,qBAC5BrC,IAAA,MAAAuB,QAAA,cACEvB,IAAA,MAAGgC,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAzB,OAAO,wBAAAa,MAAA,CAAwBiB,WAAW,CAACvB,EAAE,EAAG,EAAC,CAAAS,QAAA,CAChEc,WAAW,CAACb,KAAK,EAChB,EACF,EACL,CAAC,GACwB,cAC5BxB,IAAA,CAAAE,SAAA,IAAK,GAER,CACH,CAAC,CAED,mBACEE,KAAA,CAAChB,cAAc,EAAAmC,QAAA,eACbnB,KAAA,CAACX,YAAY,EAAA8B,QAAA,eACXvB,IAAA,QAAKsC,GAAG,CAAEzC,IAAK,EAAG,cAClBO,KAAA,CAACV,gBAAgB,EACf6C,UAAU,MACV5B,KAAK,CAAEA,KAAM,CACb6B,QAAQ,CAAE,SAAAA,SAACC,KAAK,CAAEC,QAAQ,QAAK,CAAAnC,OAAO,mBAAAa,MAAA,CAAmBd,QAAQ,CAACoC,QAAQ,CAAC,EAAG,EAAC,CAAAnB,QAAA,eAE/EvB,IAAA,CAACL,sBAAsB,EAACgD,KAAK,CAAC,MAAM,EAAG,cACvC3C,IAAA,CAACL,sBAAsB,EAACgD,KAAK,CAAC,OAAO,EAAG,cACxC3C,IAAA,CAACL,sBAAsB,EAACgD,KAAK,CAAC,UAAU,EAAG,GAC1B,GACN,CACdtB,UAAU,EAAE,cACbrB,IAAA,CAACJ,MAAM,EACLgD,OAAO,CAAC,UAAU,CAClBZ,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAzB,OAAO,8BAAAa,MAAA,CAA8BR,MAAM,SAANA,MAAM,WAANA,MAAM,CAAEE,EAAE,CAAGF,MAAM,SAANA,MAAM,iBAANA,MAAM,CAAEE,EAAE,CAAG,EAAE,EAAG,EAAC,CAAAS,QAAA,CACrF,QAED,EAAS,GACM,CAErB,CAAC,CACD,cAAe,CAAAlB,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}